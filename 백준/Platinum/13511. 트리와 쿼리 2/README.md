# [Platinum III] 트리와 쿼리 2 - 13511 

[문제 링크](https://www.acmicpc.net/problem/13511) 

### 성능 요약

메모리: 144576 KB, 시간: 1912 ms

### 분류

자료 구조(data_structures), 최소 공통 조상(lca), 희소 배열(sparse_table), 트리(trees)

### 문제 설명

<p>N개의 정점으로 이루어진 트리(무방향 사이클이 없는 연결 그래프)가 있다. 정점은 1번부터 N번까지 번호가 매겨져 있고, 간선은 1번부터 N-1번까지 번호가 매겨져 있다.</p>

<p>아래의 두 쿼리를 수행하는 프로그램을 작성하시오.</p>

<ul>
	<li><code>1 u v</code>: u에서 v로 가는 경로의 비용을 출력한다.</li>
	<li><code>2 u v k</code>: u에서 v로 가는 경로에 존재하는 정점 중에서 k번째 정점을 출력한다. k는 u에서 v로 가는 경로에 포함된 정점의 수보다 작거나 같다.</li>
</ul>

### 입력 

 <p>첫째 줄에 N (2 ≤ N ≤ 100,000)이 주어진다.</p>

<p>둘째 줄부터 N-1개의 줄에는 i번 간선이 연결하는 두 정점 번호 u와 v와 간선의 비용 w가 주어진다.</p>

<p>다음 줄에는 쿼리의 개수 M (1 ≤ M ≤ 100,000)이 주어진다.</p>

<p>다음 M개의 줄에는 쿼리가 한 줄에 하나씩 주어진다.</p>

<p>간선의 비용은 항상 1,000,000보다 작거나 같은 자연수이다.</p>

### 출력 

 <p>각각의 쿼리의 결과를 순서대로 한 줄에 하나씩 출력한다.</p>

